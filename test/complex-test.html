<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complex RadonUI test</title>
    <script src="/node_modules/@babel/standalone/babel.min.js"></script>
    <script type="text/babel" src="/radonui/util.js"></script>
    <script type="text/babel" src="/radonui/radon-models.js"></script>
    <script type="text/babel" src="/radonui/radon-components.js"></script>
</head>
<body>
    <div style="display: none;" id="components">
        <!-- Here be components -->
        <div id="aha">
            <p>EXAMPLE!</p>
        </div>
    </div>
    <div id="app">
        <!-- the app itself -->
        <span rn-render="aha" rn-model="simpleModel">Will render in a minute</span>
        <span rn-render="DynamicComponent" rn-model="simpleModel">Will render in a minute</span>
    </div>
    <script type="text/babel">
        // an example model
        class SimpleModel extends RadonModel {
            data
            constructor() {
                super("SimpleModel")
                this.data="LOLOLOLOL"
            }
            setData(data) {
                this.data=data
                this.notififyEveryone()
            }

            getData() {
                return data
            }
        }

        class DynamicComponent extends RadonComponent {
            constructor() {
                super("DynamicComponent", null)
            }

            render(attr) {
                return "<p><code>attr.data</code> is <code>"+attr.data+"</code></p>"
            }
        }
        ComponentManager.createComponent("aha",
            new StaticComponent("aha", incode("aha")))
        ComponentManager.createComponent("DynamicComponent",
            new DynamicComponent())
        var simpleModel=new SimpleModel()
        renderComponents()
    </script>
</body>
</html>